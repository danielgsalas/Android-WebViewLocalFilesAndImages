<html>
<head>
<link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>

<h3 id="selectedImageTitle" ></h3>
<div id="tapInstructions" style="display:none">(tap to zoom)</div>
<canvas id="fullSizeImage" height="168" width="300" style="display:none" onclick="zoomImage()"></canvas>

<script>

var gCanvasContext = null;
var gImage = null;
var gImageName = null;
var gZoomedIn = false;

var gCanvasWidth = 300;
var gCanvasHeight = 168;
var gImageX = 0;
var gImageY = 0;

var imageTitles = {
	"crabs" : "Red Crabs on the Beach",
	"babylizard" : "Baby Lizard on My Patio", 
	"blackwidow" : "Black Widow on My Balcony", 
	"coyote" : "Coyote on the Roadside",
	"ducks" : "Ducks on a Drying Lake",
	"geese" : "Geese on a Lake",
	"hawknest" : "Hawks Overlooking a Nest in a Tree",
	"lizards_on_wall" : "Lizards on My Outside Wall",
	"mantis_on_tire" : "Praying Mantis on My Truck Tire",
	"mantis_on_wall" : "Praying Mantis inside My House",
    "orbweaverspider" : "Orb Weaver Spider with Web Blocking Path to My House"
};
	
//start clipping from left side of image
var imageClipX = {
    "crabs" : 1250,
    "babylizard" : 750,
    "blackwidow" : 1250,
    "coyote" : 1600,
    "ducks" : 500,
    "geese" : 1000,
    "hawknest" : 1250,
    "lizards_on_wall" : 2000,
    "mantis_on_tire" : 1000,
    "mantis_on_wall" : 750,
    "orbweaverspider" : 1000
};

// start clipping from top of image
var imageClipY = {
    "crabs" : 350,
    "babylizard" : 750,
    "blackwidow" : 750,
    "coyote" : 350,
    "ducks" : 500,
    "geese" : 700,
    "hawknest" : 650,
    "lizards_on_wall" : 500,
    "mantis_on_tire" : 750,
    "mantis_on_wall" : 500,
    "orbweaverspider" : 750
};

var showImage = function(imageName) {

    // set global values
    gImageName = imageName;
    gZoomedIn = false
    
    // prepare the canvas context
    if (gCanvasContext == null) {
        var canvas = document.getElementById("fullSizeImage");
        canvas.setAttribute("style", "");
        gCanvasContext = canvas.getContext("2d");
    }   
    
    // load the image
    gImage = new Image();
    gImage.src = "../img/" + gImageName + ".jpg";
    
    // when loaded, draw the image on the canvas
    gImage.onload = function() {
        gCanvasContext.drawImage(gImage, gImageX, gImageY, gCanvasWidth, gCanvasHeight);
    }
    
    // show the image title
    var selectedImageTitle = document.getElementById("selectedImageTitle");
    selectedImageTitle.innerHTML = imageTitles[gImageName];
    
    // show zoom instructions
    var tapInstructions = document.getElementById("tapInstructions");
    tapInstructions.setAttribute("style", "");
}

var zoomImage = function() {
    
    if (gZoomedIn) {
        gCanvasContext.drawImage(gImage, gImageX, gImageY, gCanvasWidth, gCanvasHeight);
        gZoomedIn = false;
    }
    else {
        var clipX = imageClipX[gImageName];
        var clipY = imageClipY[gImageName];
        var clipWidth = gCanvasWidth * 5;   // of the full-size image not the displayed image
        var clipHeight = gCanvasHeight * 5; // of the full-size image not the displayed image
        
        gCanvasContext.drawImage(gImage,
            clipX, clipY, clipWidth, clipHeight,
            gImageX, gImageY, gCanvasWidth, gCanvasHeight);
        
        gZoomedIn = true;
    }
}	
</script>
</body>
</html>